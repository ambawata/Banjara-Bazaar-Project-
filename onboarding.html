<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Banjara Bazaar Onboarding</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-yellow-50 text-gray-900">

<div class="min-h-screen flex items-center justify-center px-4 py-12">
  <div class="bg-white rounded-2xl shadow-xl w-full max-w-lg p-6 md:p-8 space-y-6 transition-all duration-300" id="stepContainer">

    <div>
      <div class="flex justify-between items-center font-semibold">
        <div id="progressStep1" class="text-center">
          <div class="w-8 h-8 mx-auto bg-yellow-400 text-black rounded-full flex items-center justify-center">1</div>
          <p class="text-xs mt-1 text-yellow-600">Account</p>
        </div>
        <div id="progressLine1" class="flex-1 h-0.5 bg-gray-200 mx-2"></div>
        <div id="progressStep2" class="text-center text-gray-400">
          <div class="w-8 h-8 mx-auto bg-gray-200 rounded-full flex items-center justify-center">2</div>
          <p class="text-xs mt-1">Business</p>
        </div>
        <div id="progressLine2" class="flex-1 h-0.5 bg-gray-200 mx-2"></div>
        <div id="progressStep3" class="text-center text-gray-400">
          <div class="w-8 h-8 mx-auto bg-gray-200 rounded-full flex items-center justify-center">3</div>
          <p class="text-xs mt-1">Docs</p>
        </div>
      </div>
    </div>
    <hr class="my-6 border-gray-200" />


    <div id="step1">
      <h2 class="text-2xl font-bold text-center mb-4">Step 1: Verify Mobile</h2>
      <form onsubmit="event.preventDefault(); goToStep2()">
        <label class="block mb-2 font-medium" for="mobile">Mobile Number</label>
        <input type="tel" id="mobile" maxlength="10" pattern="[0-9]{10}" required
               class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400"
               placeholder="Enter 10-digit number" />
        <button type="submit"
                class="w-full mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-4 rounded-lg shadow">
          Send OTP (Mock)
        </button>
      </form>
    </div>

    <div id="step2" class="hidden">
      <h2 class="text-2xl font-bold text-center mb-4">Step 2: Business Details</h2>
      <form onsubmit="event.preventDefault(); goToStep3()" class="space-y-4">
        
        <div>
            <label class="block mb-2 font-medium" for="brandName">Brand Name</label>
            <input type="text" id="brandName" placeholder="e.g., Jodhpur Designs" required
                   class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400" />
        </div>
        
        <div>
            <label class="block mb-2 font-medium" for="gst">GST Number</label>
            <input type="text" id="gst" placeholder="22AAAAA0000A1Z5" required
                   pattern="^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$"
                   class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400" />
        </div>

        <div>
            <label class="block mb-2 font-medium" for="pickup">Full Pickup Address</label>
            <input type="text" id="pickup" required
                   class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400"
                   placeholder="Flat, Street, Area" />
            <div class="flex gap-4 mt-2">
              <input type="text" id="pincode" placeholder="Pincode" required pattern="[0-9]{6}"
                     class="w-1/2 border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400" />
              <select id="state" required
                      class="w-1/2 border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400 bg-white">
                <option value="">Select State</option>
                <option>Delhi</option>
                <option>Haryana</option>
                <option>Uttar Pradesh</option>
                <option>Rajasthan</option>
                <option>Maharashtra</option>
              </select>
            </div>
        </div>

        <div>
            <label class="block mb-2 font-medium" for="brandStory">Brand Story</label>
            <textarea id="brandStory" rows="4" placeholder="Tell customers about your brand, your craft, and your history."
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400"></textarea>
        </div>

        <button type="submit"
                class="w-full mt-6 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-4 rounded-lg shadow">
          Continue to Document Upload â†’
        </button>
      </form>
    </div>

    <div id="step3" class="hidden">
      <h2 class="text-2xl font-bold text-center mb-4">Step 3: Bank & Documents</h2>
     <form onsubmit="event.preventDefault(); finishForm()" class="space-y-4">
       <div>
         <label class="block mb-2 font-medium" for="account">Account Number</label>
         <input type="text" id="account" required pattern="[0-9]{9,18}"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400"
                placeholder="Enter account number" />
       </div>
       <div>
         <label class="block mb-2 font-medium" for="ifsc">IFSC Code</label>
         <input type="text" id="ifsc" required pattern="^[A-Z]{4}0[A-Z0-9]{6}$"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400"
                placeholder="SBIN0000001" />
       </div>
       <div>
         <label class="block mb-2 font-medium">Upload GSTIN Certificate <span class="text-red-500">*</span></label>
         <label for="gstin_file" class="cursor-pointer inline-block bg-yellow-100 hover:bg-yellow-200 text-yellow-800 font-semibold py-2 px-4 rounded-lg shadow-sm">
           Choose File
         </label>
         <input type="file" id="gstin_file" accept=".pdf,.jpg,.jpeg,.png" required class="hidden" />
         <span id="gstin_file_name" class="ml-3 text-sm text-gray-600">No file chosen</span>
       </div>
       <div>
         <label class="block mb-2 font-medium">Upload Cancelled Cheque <span class="text-red-500">*</span></label>
         <label for="cheque_file" class="cursor-pointer inline-block bg-yellow-100 hover:bg-yellow-200 text-yellow-800 font-semibold py-2 px-4 rounded-lg shadow-sm">
           Choose File
         </label>
         <input type="file" id="cheque_file" accept=".pdf,.jpg,.jpeg,.png" required class="hidden" />
         <span id="cheque_file_name" class="ml-3 text-sm text-gray-600">No file chosen</span>
       </div>
       <button type="submit"
               class="w-full mt-6 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-4 rounded-lg shadow">
         Submit Application âœ…
       </button>
     </form>
    </div>
  </div>
</div>

<div id="popup" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
  <div class="bg-white p-8 rounded-xl shadow-lg text-center max-w-sm">
    <h3 class="text-2xl font-bold mb-2">ðŸŽ‰ Verification Pending</h3>
    <p class="mb-4 text-gray-600">Your application is submitted and is now being reviewed. We will notify you on your registered mobile number.</p>
    <a href="listing_wizard.html"
            class="bg-gray-700 hover:bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg shadow">
      Go to My Dashboard
    </a>
  </div>
</div>

<script>
  function updateProgressBar(step) {
    for (let i = 1; i <= 3; i++) {
        const stepElement = document.querySelector(`#progressStep${i}`);
        const circle = stepElement.querySelector(`div`);
        stepElement.classList.add('text-gray-400');
        circle.classList.add('bg-gray-200');
        circle.classList.remove('bg-yellow-400', 'text-black');
        if (i < step) {
            const line = document.querySelector(`#progressLine${i}`);
            if(line) line.classList.remove('bg-yellow-400');
        }
    }
    
    for (let i = 1; i <= step; i++) {
        const stepElement = document.querySelector(`#progressStep${i}`);
        const circle = stepElement.querySelector(`div`);
        stepElement.classList.remove('text-gray-400');
        stepElement.classList.add('text-yellow-600');
        circle.classList.remove('bg-gray-200');
        circle.classList.add('bg-yellow-400', 'text-black');
        if (i > 1) {
            const line = document.querySelector(`#progressLine${i - 1}`);
            if(line) line.classList.add('bg-yellow-400');
        }
    }
  }

  function goToStep2() {
    const mobile = document.getElementById("mobile").value;
    if (!/^[0-9]{10}$/.test(mobile)) {
      alert("Please enter a valid 10-digit number");
      return;
    }
    document.getElementById("step1").classList.add("hidden");
    document.getElementById("step2").classList.remove("hidden");
    updateProgressBar(2);
  }

  function goToStep3() {
    if(document.getElementById('brandName').value === '' || document.getElementById('gst').value === '' || document.getElementById('pickup').value === '' || document.getElementById('pincode').value === '') {
        alert("Please fill all mandatory business details.");
        return;
    }
    document.getElementById("step2").classList.add("hidden");
    document.getElementById("step3").classList.remove("hidden");
    updateProgressBar(3);
  }

  function finishForm() {
    document.getElementById("stepContainer").classList.add("hidden");
    document.getElementById("popup").classList.remove("hidden");
  }
  
  function setupFileInput(inputId, spanId) {
    const fileInput = document.getElementById(inputId);
    if (fileInput) {
      fileInput.addEventListener('change', function() {
        const fileName = this.files[0] ? this.files[0].name : "No file chosen";
        document.getElementById(spanId).textContent = fileName;
      });
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    updateProgressBar(1);
    setupFileInput('gstin_file', 'gstin_file_name');
    setupFileInput('cheque_file', 'cheque_file_name');
  });
</script>

</body>
</html>